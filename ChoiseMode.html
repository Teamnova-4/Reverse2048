<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>리버스 2048</title>
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/ChoiseMode.css">
    <link rel="stylesheet" href="./css/speaker.css">
    <script type="module">
        import { playSound } from './Script/Sound.js';
        window.playSound = playSound;
    </script>
</head>
<body>
    <div class="top-button-container">
        <div class="dropdown">
            <button class="ranking-button" onclick="location.href='ranking.html'">랭킹</button>
 
        </div>
    </div>

    <div class="speaker-button" onclick="toggleSound()">
        <div class="speaker-icon" id="speakerIcon"></div>
    </div>

    <main>
        <div class="text-container">
            <h2>리버스 2048</h2>
            <p>시스템이 숫자를 합치기 힘들게 타일을 배치해주세요! 목표는 격자를 모두 채우는 것입니다!</p>
        </div>
        <div class="gamemode-container">
            <button class="mode-button" onclick="setMode(3)" style="font-weight: bold;">
                <img class="mode-image" src="Resources/3x3.png">
                <p>3 x 3</p>
            </button>
            <button class="mode-button" onclick="setMode(4)" style="font-weight: bold;">
                <img class="mode-image" src="Resources/4x4.png">
                <p>4 x 4</p>
            </button>
            <button class="mode-button" onclick="setMode(5)" style="font-weight: bold;">
                <img class="mode-image" src="Resources/5x5.png">
                <p>5 x 5</p>
            </button>
        </div>
        <div class="text-container">
            <p>맵을 선택하세요</p>
        </div>
    </main>

    <script>
        document.oncontextmenu = function(){return false;}

        function setMode(size) {
            playSound('place');
            localStorage.setItem('gameSize', size);
            window.location.href = `ChoiseSkill.html`;
        }

        function setRankingSize(size) {
            localStorage.setItem('gameSize', size);
            console.log(`Ranking size set to ${size}x${size}, stored in localStorage as: ${localStorage.getItem('gameSize')}`);
            window.location.href = 'ranking.html';
        }

        document.querySelector('.ranking-button').addEventListener('click', function(event) {
            event.stopPropagation();
            const dropdownContent = document.querySelector('.dropdown-content');
            dropdownContent.style.display = dropdownContent.style.display === 'block' ? 'none' : 'block';
        });

        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.dropdown');
            if (!dropdown.contains(event.target)) {
                document.querySelector('.dropdown-content').style.display = 'none';
            }
        });
    </script>
</body>
</html>